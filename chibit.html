<html>
	<head>
		<link rel="stylesheet" href="chibit.css">
		<script src="util.js"></script>
		<script src="character.js"></script>
	</head>
	<body>
		<h1 id="title">CHIB and BITS</h1>
		<div id="instruction">
			<ul>
				<li>W,S,A,D or Arrow Keys to move</li>
				<li>Ctrl or Space to teleport</li>
				<li>Shift to run</li>
			</ul>
		</div>
	</body>
	<script>
		let chibit = new Character("./character2x8d.png",96,96)
			.setXY(400,200)
			.update();

		document.onkeydown = function (e) {
			console.log(e.key, e.keyCode);

			switch (e.key) {
				case 'a':
				case 'A':
				case 'ArrowLeft':
					chibit.moveLeft();
					break;
				case 'd':
				case 'D':
				case 'ArrowRight':
					chibit.moveRight();
					break;
				case 'w':
				case 'W':
				case 'ArrowUp':
					chibit.moveUp();
					break;
				case 's':
				case 'S':
				case 'ArrowDown':
					chibit.moveDown();
					break;
				case 'Shift':
					chibit.stepsize = 4;
					break;
				case 'Control':
				case ' ':
					chibit.teleport();
					break;
			}
		}

		document.onkeyup = function (e) {
			console.log(e.key, e.keyCode);

			switch (e.key) {
				case 'a':
				case 'A':
				case 'd':
				case 'D':
				case 'ArrowLeft':
				case 'ArrowRight':
					chibit.stopHorizontalMovement(); break;
				case 'w':
				case 'W':
				case 's':
				case 'S':
				case 'ArrowUp':
				case 'ArrowDown':
					chibit.stopVerticalMovement(); break;
				case 'Shift':
					chibit.stepsize = 2;
					break;
			}
		}

		setInterval(() => {
			chibit.walk();
		}, 10);

	</script>
</html>